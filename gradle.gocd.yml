pipelines:
  Gradle-Build:
    group: gragle-plugin
    materials:
      gradle-plugin:
        git: https://github.com/getgauge/gauge-gradle-plugin.git
        shallow_clone: true
    stages:
      - build:
          jobs:
            build:
              elastic_profile_id: debian-gocd-jdk-maven
              tasks:
                - exec:
                    command: /bin/sh
                    arguments:
                      - -c
                      - ./gradlew clean build
              artifacts:
                - build:
                    source: build/libs/plugin-*.jar
                    destination: artifacts